<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Retro Replay — Plug & play PS2 HDD mod kit." />
  <meta name="theme-color" content="#060a12" />
  <title>Shop — Retro Replay</title>

  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Google tracking loads after consent (js/analytics.js) -->
  <script defer src="js/analytics.js"></script>
  <script defer src="js/main.js"></script>

  <!-- PayPal Hosted Buttons SDK -->
  <script
    defer
    src="https://www.paypal.com/sdk/js?client-id=BAApYaG5zDntUHsd2tRXv1ylGkYhREqRR-t7PWcH3-Sh7ElgWliEyCEnhAeQjoawIGidc1LY7PQRK9A0Sg&components=hosted-buttons&disable-funding=venmo&currency=GBP">
  </script>
</head>

<body>
  <header class="header">
    <div class="container header__inner">
      <a class="brand" href="index.html" aria-label="Retro Replay Home">
        <img class="brand__logo brand__logo--small" src="assets/logo.png" alt="Retro Replay" width="120" height="120" />
      </a>

      <nav class="nav" aria-label="Primary">
        <a class="nav__link" href="index.html">Home</a>
        <a class="nav__link is-active" href="shop.html">Shop</a>
        <a class="nav__link" href="support.html">Support</a>
        <a class="nav__link" href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="section">
    <div class="container">
      <div class="pagehead">
        <h1 class="h1">Shop</h1>
        <p class="muted">Simple checkout via PayPal for now.</p>
        <p class="fineprint">
          After successful payment, you’ll return here. If it doesn’t redirect, just email
          <a href="mailto:retroreply2026@gmail.com">retroreply2026@gmail.com</a>.
        </p>
      </div>

      <div class="product">
        <div class="card card--glow">
          <div class="product__top">
            <div>
              <h2 class="h2">PS2 Plug &amp; Play HDD Mod Kit (500GB)</h2>
              <p class="muted">Configured, tested, and ready for disc-free play on PS2 FAT consoles.</p>
            </div>
            <div class="price" aria-label="Price">
              <span class="price__value">£193.00</span>
              <span class="price__note">UK shipping</span>
            </div>
          </div>

          <ul class="bullets">
            <li>500GB SATA hard drive</li>
            <li>SATA adapter + configured software</li>
            <li>Setup instructions + support</li>
            <li>Option to swap/add a few titles on request</li>
          </ul>

          <div class="divider"></div>

          <div class="checkout" aria-label="PayPal checkout">
            <p class="muted">PayPal Checkout</p>

            <!-- PayPal container -->
            <div id="paypal-container-KZTTHJVUHAFZC" class="paypal"></div>

            <!-- Render Hosted Button -->
            <script>
              (function () {
                function renderPayPalHostedButton() {
                  if (!window.paypal || !paypal.HostedButtons) return false;
                  paypal.HostedButtons({
                    hostedButtonId: "KZTTHJVUHAFZC",
                  }).render("#paypal-container-KZTTHJVUHAFZC");
                  return true;
                }

                if (!renderPayPalHostedButton()) {
                  let tries = 0;
                  const t = setInterval(() => {
                    tries++;
                    if (renderPayPalHostedButton() || tries > 20) clearInterval(t);
                  }, 150);
                }
              })();
            </script>

            <p class="fineprint">
              Ensure your PayPal button return URL is set to:
              <strong>https://retroreplay.uk/shop.html?success=1</strong>
              (Cancel URL: <strong>https://retroreplay.uk/shop.html?cancel=1</strong>)
            </p>

            <div class="divider"></div>

            <!-- Optional: show basic messages if redirected back -->
            <p class="fineprint" aria-live="polite" id="checkout-status"></p>
            <script>
              (function () {
                const el = document.getElementById("checkout-status");
                if (!el) return;
                const u = new URL(window.location.href);
                if (u.searchParams.get("success") === "1") {
                  el.textContent = "Payment received — thanks. We’ll email you shortly to confirm details.";
                } else if (u.searchParams.get("cancel") === "1") {
                  el.textContent = "Checkout cancelled. If you had an issue, contact us and we’ll help.";
                }
              })();
            </script>
          </div>

          <p class="fineprint">Questions before buying? <a href="contact.html">Contact here</a>.</p>
        </div>

        <aside class="card">
          <h3 class="h3">What you get</h3>
          <p class="muted">
            A clean, tested kit with clear setup steps and ongoing support if you need it.
          </p>

          <div class="divider"></div>

          <h3 class="h3">Warranty</h3>
          <p class="muted">
            See <a href="support.html">Support</a> for warranty and troubleshooting.
          </p>

          <div class="divider"></div>

          <h3 class="h3">Custom requests</h3>
          <p class="muted">
            Want a few specific games swapped in? <a href="contact.html">Send a message</a> and we’ll confirm what’s possible.
          </p>
        </aside>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <p class="fineprint">© <span data-year></span> Retro Replay</p>
      <div class="footer__links">
        <a href="support.html">Warranty &amp; Support</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
  </footer>

  <div class="cookie" role="dialog" aria-live="polite" aria-label="Cookie consent" hidden>
    <div class="cookie__inner">
      <p class="cookie__text">We use cookies for analytics to improve the site.</p>
      <div class="cookie__actions">
        <button class="button button--ghost" type="button" data-cookie-reject>Reject</button>
        <button class="button" type="button" data-cookie-accept>Accept</button>
      </div>
    </div>
  </div>
</body>
</html>
